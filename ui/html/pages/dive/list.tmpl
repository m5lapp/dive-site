{{define "title"}}Dives{{end}}

{{define "heading"}}Dives{{end}}

{{define "main"}}
  <section>

    {{if .Dives}}
      {{pageControls "/log-book/dive" .PageData}}

      <div class="list-group">
        {{range .Dives}}
          <a class="list-group-item list-group-item-action"
             href="/log-book/dive/view/{{.ID}}">
            <div class="d-flex w-100 justify-content-between">
              <h4 class="mb-1">
                {{isoCountryToEmoji .DiveSite.Country.ISO2Code}}
                #{{.Number}}
                {{.DateTimeIn.Format "2006-01-02 15:04 MST"}}
              </h4>
              {{with .Rating}}
                <span class="badge text-bg-primary rounded-pill">{{.}}/10</span>
              {{end}}
            </div>
            <p class="mb-1">
              <strong>{{.DiveSite.Name}}</strong>
              {{- with .DiveSite.AltName}} <small>({{.}})</small>{{end}},
              {{.DiveSite.Location}}{{with .DiveSite.Region}}, {{.}}{{end}},
              {{.DiveSite.Country.Name}}
            </p>
            <p class="mb-1">
              {{.Activity}},
              <small>{{.BottomTime.Minutes}}mins @ {{.MaxDepth}}m</small>
              {{- with .Buddy}} with {{.Name}}{{end}}
            </p>
          </a>
        </li>
      {{end}}
    </ul>

    {{pageControls "/log-book/dive" .PageData}}

    {{else}}
      <p>
        No dives have been logged yet. Please feel free to
        <a href="/log-book/dive/add">log a new one</a>.
      </p>
    {{end}}

  </section>
{{end}}

